{%extends 'index.html'%}
{%block title%}Account{%endblock%}
{%block content%}

<div class="signup-section">
        <div style="text-align: center;margin-top: 10px;">
        <img class="rounded mx-auto d-block" src="{{url_for('static',filename='user/'+current_user.profile_pic)}}">
          <h2 class="account-heading">{{ current_user.username }}</h2>
</div>
    <div class="signup-text">
        <div class="container">
            <div class="signup-title">
                <h2>Account</h2>
            </div>
            <form method="POST" class="signup-form" enctype='multipart/form-data'>
                {{form.hidden_tag()}}
                <div class="sf-input-list">
                    {%if form.username.errors%}
                    {{form.username(class='input-value is-invalid',placeholder='Username')}}

                    <div class="invalid-feedback">
                        {%for error in form.username.errors%}
                        <span>{{error}}</span>
                    </div>
                    {%endfor%}
                    {%else%}
                    {{form.username(class='input-value',placeholder='Username')}}
                    {%endif%}

                    {%if form.email.errors%}
                    {{form.email(class='input-value is-invalid',placeholder='Email')}}

                    <div class="invalid-feedback">
                        {%for error in form.email.errors%}
                        <span>{{error}}</span>
                    </div>
                    {%endfor%}
                    {%else%}
                    {{form.email(class='input-value',placeholder='Email')}}
                    {%endif%}

                    {%if current_user.is_admin%}
                    {%if form.about.errors%}
                    {{form.about(class='input-value is-invalid',placeholder='About')}}

                    <div class="invalid-feedback">
                        {%for error in form.about.errors%}
                        <span>{{error}}</span>
                    </div>
                    {%endfor%}
                    {%else%}
                    {{form.about(class='input-value',placeholder='About')}}
                    {%endif%}
                    {%endif%}

                    {{ form.profile_pic.label() }}
                    {{ form.profile_pic(class="form-control-file") }}
                    {% if form.profile_pic.errors %}
                        {% for error in form.profile_pic.errors %}
                            <span class="text-danger">{{ error }}</span><br>
                        {% endfor %}
                    {% endif %}
                {{form.submit()}}
            </form>
        </div>
    </div>
</div>
{%endblock%}